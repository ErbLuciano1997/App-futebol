<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogadores</title>
    <link
      href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      rel="stylesheet"
      id="bootstrap-css"
    />
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="shortcut icon" type="image/png" href="img/favicon-32x32.png" />
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- FONT (OPTIONAL) -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Saira+Semi+Condensed:300,400,700"
    />
  </head>
  <body>
    <!-- Adicione o navbar -->
    <nav class="mb-xs-5">
      <ul>
        <li>
          <a href="index.html"
            ><img style="width: 80px; height: 80px" src="img/logo.png" alt=""
          /></a>
        </li>
        <li>
          <a href="listaJogadores.html"
            ><button class="botao-sombra">Lista de Jogadores</button></a
          >
        </li>
        <li>
          <a
            href="https://wa.me/5581985293862?text=Oi%2C+gostaria+de+saber+os+valores+para+a+cria%C3%A7%C3%A3o+de+sites%2C+por+favor."
            ><img
              style="width: 50px; height: 50px"
              src="img/WhatsApp-icone-3.png"
          /></a>
        </li>
      </ul>
    </nav>

    <div class="row" style="margin: auto auto; padding-top: 15px;">
      <div class="col-12 text-center">
        <form id="form-jogadores" class="form-group">
          <label
            id="label-input-jogador"
            for="input-jogador"
            style="font-size: larger; color: black; font-weight: bold"
            >Insira o nome dos jogadores:</label
          >
          <input type="text" id="input-jogador" class="form-control" />

          <div class="row mt-3">
            <div class="col-xs-12 col-md-6 mt-1">
              <button type="button" id="btn-adicionar" class="button">
                <span>Adicionar</span>
                <div class="top"></div>
                <div class="left"></div>
                <div class="bottom"></div>
                <div class="right"></div>
              </button>
            </div>

            <div class="col-xs-12 col-md-6 mt-1">
              <button
                type="button"
                id="btn-sortear"
                class="button"
                style="display: none"
              >
                <span>Sortear</span>
                <div class="top"></div>
                <div class="left"></div>
                <div class="bottom"></div>
                <div class="right"></div>
              </button>
            </div>
          </div>
        </form>
      </div>

      <div id="grupos-jogadores" class="col-12">
        <div
          class="row text-center"
          style="border: 1px solid white; border-radius: 15px; padding: 5px"
        >
          <div
            class="col-12"
            style="max-height: 95px; overflow-y: auto; margin-bottom: 20px"
          >
            <h2 style="font-size: larger; color: white; font-weight: bold">
              Lista dos jogadores:
            </h2>
            <ol
              style="
                font-size: larger;
                color: white;
                font-weight: bold;
                padding-right: 15px;
                padding-left: 15px;
              "
              id="jogadores-list"
            ></ol>
          </div>
          <div class="col-6">
            <h2 style="font-size: larger; color: white; font-weight: bold">
              Time Azul
            </h2>
            <ol
              style="font-size: larger; color: white; font-weight: 400; padding-left: 15px;"
              id="grupo1"
            ></ol>
          </div>
          <div class="col-6">
            <h2 style="font-size: larger; color: white; font-weight: bold">
              Time Vermelho
            </h2>
            <ol
              style="font-size: larger; color: white; font-weight: 400; padding-left: 15px;"
              id="grupo2"
            ></ol>
          </div>
        </div>
      </div>
    </div>

    <script>
      var jogadores = [];

      document
        .getElementById("btn-adicionar")
        .addEventListener("click", function () {
          var jogadorInput = document.getElementById("input-jogador");
          var jogador = jogadorInput.value.trim();

          if (jogador !== "") {
            jogadores.push(jogador);
            jogadorInput.value = ""; // Limpa o campo de entrada

            atualizarJogadores();
          }
        });

      document
        .getElementById("btn-sortear")
        .addEventListener("click", function () {
          if (jogadores.length === 10) {
            sortearGrupos();
          } else {
            alert(
              "É necessário adicionar 10 jogadores antes de sortear os grupos."
            );
          }
        });

      function atualizarJogadores() {
        var jogadoresList = document.getElementById("jogadores-list");
        jogadoresList.innerHTML = "";

        jogadores.forEach(function (jogador) {
          var listItem = document.createElement("li");
          listItem.textContent = jogador;
          jogadoresList.appendChild(listItem);
        });

        if (jogadores.length === 10) {
          document.getElementById("btn-sortear").style.display = "";
        }
      }

      function sortearGrupos() {
        var grupo1 = [];
        var grupo2 = [];

        while (jogadores.length > 0) {
          var randomIndex = Math.floor(Math.random() * jogadores.length);
          var jogador = jogadores.splice(randomIndex, 1)[0];

          if (grupo1.length < 5) {
            grupo1.push(jogador);
          } else {
            grupo2.push(jogador);
          }
        }

        exibirGrupos(grupo1, grupo2);
      }

      function exibirGrupos(grupo1, grupo2) {
        var grupo1List = document.getElementById("grupo1");
        var grupo2List = document.getElementById("grupo2");

        grupo1List.innerHTML = "";
        grupo2List.innerHTML = "";

        grupo1.forEach(function (jogador) {
          var listItem = document.createElement("li");
          listItem.textContent = jogador;
          grupo1List.appendChild(listItem);
        });

        grupo2.forEach(function (jogador) {
          var listItem = document.createElement("li");
          listItem.textContent = jogador;
          grupo2List.appendChild(listItem);
        });
      }
    </script>
  </body>
</html>
